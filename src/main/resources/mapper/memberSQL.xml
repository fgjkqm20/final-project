<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="member">
	<select id="selectOneMember" parameterType="m" resultType="m">
		select
			member_id as memberId,
			member_name as memberName,
			member_phone as memberPhone,
			member_city as memberCity,
			member_photo as memberPhoto,
			member_intro as memberIntro,
			enroll_date as enrollDate,
			member_level as memberLevel,
			join_type as joinType
		from member_tbl
		where member_id = #{memberId} 
		<if test="memberPw != null">
		and member_pw = #{memberPw}
		</if>
	</select>
	
	<insert id="insertKakao" parameterType="m">
		insert into member_tbl
		values(#{memberId}, #{memberName}, #{memberPhone}, NULL, NULL, NULL, NULL, TO_CHAR(SYSDATE, 'YYYY-MM-DD'), 1, '카카오')
	</insert>
	
	<delete id="deleteKakao" parameterType="string">
		delete from member_tbl where member_id = #{_parameter}
	</delete>
	
	<select id="findId" parameterType="m" resultType="m">
		select
			member_id as memberId,
			join_type as joinType
		from member_tbl
		where member_name = #{memberName}
		and member_phone = #{memberPhone}
	</select>
</mapper>
