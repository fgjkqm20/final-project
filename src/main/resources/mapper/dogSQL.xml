<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="dog">
	<select id="selectMyDogList" parameterType="int" resultType="d">
		select
			dog_no as dogNo,
			member_no as memberNo,
			dog_name as dogName,
			dog_photo as dogPhoto
		from dog_tbl
		where member_no = #{_parameter}
		order by dog_no
	</select>

	<select id="selectMyOneDog" parameterType="int" resultType="d">
		select
			dog_no as dogNo,
			member_no as memberNo,
			dog_name as dogName,
            (type_name ||
            case type_size 
                when 0 then '(소형견)'
                when 1 then '(중형견)'
                when 2 then '(대형견)'
            END) as dogType,
			dog_gender as dogGender,
			dog_neutral as dogNeutral,
			dog_vacc as dogVacc,
			dog_age as dogAge,
			dog_weight as dogWeight,
			dog_photo as dogPhoto
		from dog_tbl d left join dog_type t on (d.dog_type_no = t.type_code) 
		where dog_no = #{_parameter}
	</select>
</mapper>
