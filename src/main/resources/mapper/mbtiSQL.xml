<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="mbti">
	<insert id="insertMbtiType" parameterType="mbti">
		insert into mbti_type_tbl
		values(MBTI_TYPE_SEQ.nextval, #{mbtiAnswer}, #{mbtiType})
	</insert>
	
	<select id="selectMbtiResult" parameterType="string" resultType="mr">
		select 
		    mbti_result_no as mbtiResultNo,
		    mbti_result as mbtiResult,
		    friend_type as friendType,
		    partner_type as partnerType
		from mbti_result_tbl r join mbti_type_tbl t on(r.mbti_result = t.mbti_type)
		where t.mbti_answer = #{_parameter}
	</select>
</mapper>
