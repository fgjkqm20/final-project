<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org/DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="market">
	<select id="selectOne" parameterType="_int" resultType="md">
		select
			mt.market_no as marketNo,
			mt.age,
			mt.type_code as typeCode,
			mt.sale_info as saleInfo,
			mt.gender,
			dt.type_size as typeSize,
			dt.type_name as typeName,
			mt.price
		from market_tbl mt join dog_type dt on(mt.type_code=dt.type_code)
		where market_no = #{_parameter}
	</select>
	<select id="saleDogList" resultType="md">
			select
			mt.market_no as marketNo,
			mt.age,
			mt.type_code as typeCode,
			mt.sale_info as saleInfo,
			mt.gender,
			dt.type_size as typeSize,
			dt.type_name as typeName,
			mt.price
		from market_tbl mt join dog_type dt on(mt.type_code=dt.type_code)
	</select>
	<select id="marketListCnt">
		select count(type_code) from market_tbl join dog_type using(type_code)
		<choose>
		<when test="typeSize==-1">
		</when>
		<when test="typeSize==0">
		where type_size = 0
		</when>
		<when test="typeSize==1">
		where type_size = 1
		</when>
		<when test="typeSize==2">
		where type_size = 2
		</when>
		</choose>		
	</select>
	<select id="filterSelect" resultType="md">
		select
			mt.market_no as marketNo,
			mt.age,
			mt.type_code as typeCode,
			mt.sale_info as saleInfo,
			mt.gender,
			dt.type_size as typeSize,
			dt.type_name as typeName,
			mt.price
		from market_tbl mt join dog_type dt on(mt.type_code=dt.type_code)
		where type_size = #{_parameter}
	</select>	
</mapper>
