<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="myWalkMate">
	<select id="selectMyApplyList" parameterType="string" resultType="awi">
		select
			wm_no as wmNo,
			wm_title as wmTitle,
			wm_meet_time as wmMeetTime,
			wm_addr as wmAddr,
			apply_stat as applyStat
		from
			walk_mate_tbl
		join
			wm_apply_tbl using(wm_no)
		where
			member_id = #{_parameter}
	</select>
	
	<select id="selectMyMadeList" parameterType="_int" resultType="w">
		select
			wm_no as wmNo,
			wm_title as wmTitle,
			wm_meet_time as wmMeetTime,
			wm_addr as wmAddr	
		from
			walk_mate_tbl	
		where
			wm_leader = #{_parameter}
	</select>
	
	<select id="selectMyAppliedList" parameterType="string" resultType="w">
		select
			wm_no as wmNo,
			wm_title as wmTitle,
			wm_meet_time as wmMeetTime,
			wm_addr as wmAddr	
		from
			walk_mate_tbl	
		join
			wm_apply_tbl using(wm_no)
		where
			member_id = #{_parameter} 
			and
			apply_stat = 0
	</select>
	
	<select id="selectOneWalkMate" parameterType="_int" resultType="w">
		select
			wm_title as wmTitle,
			wm_sub_title as wmSubTitle,
			wm_tag as wmTag,
			wm_meet_time as wmMeetTime,
			wm_addr as wmAddr,
			wm_range_member as wmRangeMember,
			wm_content as wmContent
		from
			walk_mate_tbl
		where
			wm_no = #{_parameter} 
	</select>
	
	<select id="selectAttendMemberList" parameterType="_int" resultType="m">
		select
			member_no as memberNo,
			member_nickname as mameberNickname
		from
			member_tbl
		join
			wm_apply_tbl using(member_id)
		where
			wm_no = #{_parameter} 
	</select>
</mapper>
